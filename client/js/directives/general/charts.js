app.directive("lolChampionsCharts",function(){return{restrict:"E",templateUrl:"templates/base/general/charts.html",transclude:!0,replace:!0,scope:!1,link:function(a,b,c){a.chartOptions={gameType:"Ranked Solo",role:"TOP",performance:"Game Length"}},controller:function(a,b){b.getInfo("charts").success(function(b){a.chartsData=b,a.loadChart(),a.loadMap(a.chartsData.heatMaps)}).error(function(a){console.log(a+"can't get summoner chart")}),a.loadChart=function(){$("#chartLinemap").highcharts({credits:{enabled:!1},chart:{backgroundColor:"rgba(255, 255, 255, 0)"},xAxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},yAxis:{plotLines:[{value:0,width:1,color:"#808080"}]},series:[{data:[7,6.9,9.5,14.5,18.2,21.5,25.2,26.5,23.3,18.3,13.9,9.6]}]})},a.loadMap=function(a){var b=6,c=6,d="#cc99ff",e="#ff9966",f="#ff3300",g="#993300",h={top:10,right:80,bottom:30,left:20},i=894-h.left-h.right,j=894-h.top-h.bottom,k=d3.scale.linear().domain([1,2,3,4]).range([d,e,f,g]),l=d3.select("#chartHeatmap").append("svg").attr("width",i+h.left+h.right).attr("height",j+h.top+h.bottom).append("g").attr("transform","translate("+h.left+","+h.top+")");l.selectAll("#chartHeatmap").data(a.deaths,function(a){return a}).enter().append("svg:rect").attr("x",function(a){return 6*(a[0]+1)}).attr("y",function(a){return 6*(a[1]+1)}).attr("width",function(a){return c}).attr("height",function(a){return b}).style("fill",function(a){return k(parseInt(a[2]))})}}}});