app.directive("lolChampionsMatch",function(){return{restrict:"E",templateUrl:"templates/base/general/match.html",transclude:!0,replace:!0,scope:!1,link:function(a,b,c){a.matchOptions={gameType:"All",champion:"All",role:"All"},a.loadingPagination={maxIndex:0,pageIndex:1,show:!1}},controller:function(a,b,c,d){null===c.getSummonerId()&&(d.get("SummonerId")?c.setSummonerId(d.get("SummonerId")):b("/base/baseHome")),a.loadMatch=function(a){c.setMatchId(a),d.set("MatchId",a),b("/base/baseHome/baseChampionMatchDetail")},a.loadPage=function(b){a.loadingPagination.pageIndex=b,window.scrollTo(0,0)},c.getInfo("matchlist").success(function(b){a.matches=b.matches,a.loadingPagination.show=!0,a.loadingPagination.pageIndex=1,a.loadingPagination.maxIndex=Math.round(b.matches.length/20)}).error(function(a){console.error(a+"can't get summoner match list")})}}});